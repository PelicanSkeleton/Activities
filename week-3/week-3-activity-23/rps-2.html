<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Notable&display=swap" rel="stylesheet">
  <title>Rock Paper Scissors Part 2</title>
</head>

<body>
  <p>Welcome to Rock Paper Scissors!</p>
  <p>Press "r" "p" or "s" to start playing.</p>

  <div id="game">

  </div>

  <!-- onkeyup to check userGuess for an r p or s -->
  <!-- store userGuess in variable -->
  <!-- run computer guess function -->
  <!-- store computer guess in variable -->


  <script type="text/javascript">

    var options = ["r", "p", "s"];
    var wins = 0;
    var losses = 0;
    var ties = 0;

    document.onkeyup = function () {
      var userGuess = String.fromCharCode(event.keyCode).
        toLowerCase();
      console.log(userGuess);

      var computerGuess = options[Math.floor(Math.random() * options.length)];
      console.log(computerGuess);

      if (userGuess === 'r' || userGuess === 'p' || userGuess === 's') {
        if (userGuess == computerGuess) {
          ties++;
          alert("You tied!");
        }
        if (userGuess == 'r' && computerGuess == 's') {
          wins++;
          alert("You win! You chose 'r' and the computer chose 's'.");
        }
        if (userGuess == 'p' && computerGuess == 'r') {
          wins++;
          alert("You win! You chose 'p' and the computer chose 'r'.");
        }
        if (userGuess == 's' && computerGuess == 'p') {
          wins++;
          alert("You win! You chose 's' and the computer chose 'p'.");
        }
        if (userGuess == 's' && computerGuess == 'r') {
          losses++;
          alert("You lose! You chose 's' and the computer chose 'r'.");
        }
        if (userGuess == 'p' && computerGuess == 's') {
          losses++;
          alert("You lose! You chose 'p' and the computer chose 's'.");
        }
        if (userGuess == 'r' && computerGuess == 'p') {
          losses++;
          alert("You lose! You chose 'r' and the computer chose 'p'.");
        }
      } else {
        alert("I don't recognize the key you've chosen. Please press 'r', 'p' or 's'.")
      }

      if (wins == 5) {
      alert("Congratulations! You beat the computer!")
      wins = 0;
      losses = 0;
      ties = 0;
    } else if (losses == 5) {
      alert("The computer wins. Better luck next time")
      wins = 0;
      losses = 0;
      ties = 0;
    } else if (ties == 5) {
      alert("You've tied with the computer.")
      wins = 0;
      losses = 0;
      ties = 0;
    }

      var html = "<p>Wins: " + wins + "</p>" +
        "<p>Losses: " + losses + "</p>" +
        "<p>Ties: " + ties + "</p>";

      document.querySelector('#game').innerHTML = html;


    }
   


  </script>

</body>

</html>